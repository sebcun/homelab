{% extends "base.html" %} {% block title %} Admin - YSWS-Template {% endblock %}
{% block head %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/dashboard.css') }}"
/>
<style>
  .admin-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .admin-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
  }
  .delete-btn {
    opacity: 0;
    transition: opacity 0.2s ease;
  }
  .card:hover .delete-btn {
    opacity: 1;
  }
</style>
{% endblock %} {% block hackclub_flag %} {% endblock %} {% block navbar_balance
%} Admin Panel {% endblock %} {% block content %}
<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">FAQs</h2>
    <button
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#addFaqModal"
    >
      <i class="bi bi-plus-lg me-2"></i>Add FAQ
    </button>
  </div>

  <div class="row row-cols-1 g-3 mb-5" id="faqList">
    <!-- Example FAQ Item -->
    <div class="col">
      <div class="card shadow-sm border-0 rounded-3 admin-card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h5 class="card-title fw-bold mb-2">
                How do I submit my project?
              </h5>
              <p class="card-text text-muted">
                You can submit your project through the dashboard once you have
                a repo link and a demo.
              </p>
            </div>
            <button
              class="btn btn-outline-danger btn-sm delete-btn ms-3"
              onclick="this.closest('.col').remove()"
            >
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card shadow-sm border-0 rounded-3 admin-card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h5 class="card-title fw-bold mb-2">What is the deadline?</h5>
              <p class="card-text text-muted">
                The deadline is visible on the main page. Make sure to submit
                before the timer runs out!
              </p>
            </div>
            <button
              class="btn btn-outline-danger btn-sm delete-btn ms-3"
              onclick="this.closest('.col').remove()"
            >
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr class="my-5 text-muted" />

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">Rewards</h2>
    <button
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#addRewardModal"
    >
      <i class="bi bi-plus-lg me-2"></i>Add Reward
    </button>
  </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4" id="rewardList">
    <div class="col">
      <div class="card h-100 shadow border-0 rounded-3 admin-card">
        <div class="p-2">
          <img
            src="https://m.media-amazon.com/images/I/518LvVkg77L._AC_SL1280_.jpg"
            class="card-img-top rounded-top-3 bg-light"
            alt="Reward"
            style="height: 200px; object-fit: contain"
          />
        </div>
        <div class="card-body d-flex flex-column">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <h5 class="card-title mb-0 text-truncate">Item</h5>
            <span class="badge bg-primary">1 hour</span>
          </div>
          <p class="card-text text-muted small">desc</p>
          <div class="mt-auto pt-3 text-end">
            <button
              class="btn btn-outline-danger btn-sm delete-btn"
              onclick="this.closest('.col').remove()"
            >
              <i class="bi bi-trash me-1"></i>Remove
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addFaqModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold">Add New FAQ</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="addFaqForm">
          <div class="mb-3">
            <label for="faqQuestion" class="form-label fw-bold">Question</label>
            <input
              type="text"
              class="form-control form-control-modern"
              id="faqQuestion"
              placeholder="Question"
              required
            />
          </div>
          <div class="mb-3">
            <label for="faqAnswer" class="form-label fw-bold">Answer</label>
            <textarea
              class="form-control form-control-modern"
              id="faqAnswer"
              rows="3"
              placeholder="Answer"
              required
            ></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer border-0">
        <button
          type="button"
          class="btn btn-outline-secondary"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
        <button type="button" class="btn btn-primary" id="saveFaqBtn">
          Add FAQ
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addRewardModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold">Add New Reward</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form id="addRewardForm">
          <div class="mb-3">
            <label for="rewardName" class="form-label fw-bold">Name</label>
            <input
              type="text"
              class="form-control form-control-modern"
              id="rewardName"
              placeholder="e.g., Macbook Air!"
              required
            />
          </div>
          <div class="mb-3">
            <label for="rewardCost" class="form-label fw-bold"
              >Cost (Hours)</label
            >
            <input
              type="text"
              class="form-control form-control-modern"
              id="rewardCost"
              placeholder="e.g., 1"
              required
            />
          </div>
          <div class="mb-3">
            <label for="rewardImage" class="form-label fw-bold"
              >Image URL</label
            >
            <input
              type="url"
              class="form-control form-control-modern"
              id="rewardImage"
              placeholder="https://..."
              required
            />
          </div>
          <div class="mb-3">
            <label for="rewardDesc" class="form-label fw-bold"
              >Description</label
            >
            <textarea
              class="form-control form-control-modern"
              id="rewardDesc"
              rows="2"
              placeholder="Brief description..."
              required
            ></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer border-0">
        <button
          type="button"
          class="btn btn-outline-secondary"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
        <button type="button" class="btn btn-primary" id="saveRewardBtn">
          Add Reward
        </button>
      </div>
    </div>
  </div>
</div>

<footer class="py-4 bg-light text-center mt-auto">
  <div class="container">
    <span class="text-muted"
      >This website is <a href="https://github.com">Open source!</a></span
    >
  </div>
</footer>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const saveFaqBtn = document.getElementById("saveFaqBtn");
    const faqList = document.getElementById("faqList");
    const addFaqModalEl = document.getElementById("addFaqModal");
    const addFaqModal = new bootstrap.Modal(addFaqModalEl);

    saveFaqBtn.addEventListener("click", () => {
      const question = document.getElementById("faqQuestion").value;
      const answer = document.getElementById("faqAnswer").value;

      if (question && answer) {
        const newFaq = document.createElement("div");
        newFaq.className = "col fade-in";
        newFaq.innerHTML = `
          <div class="card shadow-sm border-0 rounded-3 admin-card">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-start">
                <div>
                  <h5 class="card-title fw-bold mb-2">${question}</h5>
                  <p class="card-text text-muted">${answer}</p>
                </div>
                <button class="btn btn-outline-danger btn-sm delete-btn ms-3" onclick="this.closest('.col').remove()">
                  <i class="bi bi-trash"></i>
                </button>
              </div>
            </div>
          </div>
        `;
        faqList.appendChild(newFaq);
        document.getElementById("addFaqForm").reset();
        addFaqModal.hide();
      }
    });

    const saveRewardBtn = document.getElementById("saveRewardBtn");
    const rewardList = document.getElementById("rewardList");
    const addRewardModalEl = document.getElementById("addRewardModal");
    const addRewardModal = new bootstrap.Modal(addRewardModalEl);

    saveRewardBtn.addEventListener("click", () => {
      const name = document.getElementById("rewardName").value;
      const cost = document.getElementById("rewardCost").value;
      const image = document.getElementById("rewardImage").value;
      const desc = document.getElementById("rewardDesc").value;

      if (name && cost && image && desc) {
        const newReward = document.createElement("div");
        newReward.className = "col fade-in";
        newReward.innerHTML = `
          <div class="card h-100 shadow border-0 rounded-3 admin-card">
            <div class="p-2">
              <img
                src="${image}"
                class="card-img-top rounded-top-3 bg-light"
                alt="${name}"
                style="height: 200px; object-fit: contain"
              />
            </div>
            <div class="card-body d-flex flex-column">
              <div class="d-flex justify-content-between align-items-start mb-2">
                <h5 class="card-title mb-0 text-truncate">${name}</h5>
                <span class="badge bg-primary">${cost}</span>
              </div>
              <p class="card-text text-muted small">${desc}</p>
              <div class="mt-auto pt-3 text-end">
                <button class="btn btn-outline-danger btn-sm delete-btn" onclick="this.closest('.col').remove()">
                  <i class="bi bi-trash me-1"></i>Remove
                </button>
              </div>
            </div>
          </div>
        `;
        rewardList.appendChild(newReward);
        document.getElementById("addRewardForm").reset();
        addRewardModal.hide();
      }
    });
  });
</script>
{% endblock %}
